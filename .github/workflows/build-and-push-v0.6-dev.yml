name: Build and Push the v0.6-dev Docker Image

on:
  push:
    branches: [v0.6-dev]
  workflow_dispatch:
    inputs:
      image-tag:
        description: "The tag to use for the Docker image, default is 'v0.6-dev'"
        required: true
        type: string
        default: "v0.6-dev"

jobs:
  call-jupyter-driver-build:
    uses: RTIInternational/teehr-hub/.github/workflows/build-and-push-jupyter-driver.yaml@main
    with:
      image-tag: ${{ inputs.image-tag || 'v0.6-dev' }}

  call-spark-executor-build:
    uses: RTIInternational/teehr-hub/.github/workflows/build-and-push-spark-executor.yaml@main
    with:
      image-tag: ${{ inputs.image-tag || 'v0.6-dev' }}